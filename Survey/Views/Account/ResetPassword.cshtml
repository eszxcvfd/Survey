@model ResetPasswordDto
@{
    ViewData["Title"] = "Reset Password";
}

<section class="auth-card card-surface">
    <h2 class="md-typescale-headline-medium">Reset Password</h2>
    <p class="md-typescale-body-medium" style="margin-bottom: 24px; color: var(--md-sys-color-on-surface-variant);">
        Enter your new password below.
    </p>

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-error" style="padding: 12px; margin-bottom: 16px; background-color: rgba(179, 38, 30, 0.1); color: var(--md-sys-color-error); border-radius: 8px;">
            <div asp-validation-summary="ModelOnly"></div>
        </div>
    }

    <form asp-action="ResetPassword" asp-controller="Account" method="post" novalidate>
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="Token" />
        
        <div class="form-row">
            <md-outlined-text-field label="New Password"
                                    name="Password"
                                    type="password"
                                    autocomplete="new-password"
                                    required>
            </md-outlined-text-field>
            <span asp-validation-for="Password" class="text-danger md-typescale-body-small"></span>
        </div>

        <div class="form-row">
            <md-outlined-text-field label="Confirm Password"
                                    name="ConfirmPassword"
                                    type="password"
                                    autocomplete="new-password"
                                    required>
            </md-outlined-text-field>
            <span asp-validation-for="ConfirmPassword" class="text-danger md-typescale-body-small"></span>
        </div>

        <div class="form-actions">
            <md-filled-button type="submit">Reset Password</md-filled-button>
            <md-text-button type="button" onclick="window.location.href='@Url.Action("Login","Account")'">
                Back to Login
            </md-text-button>
        </div>
    </form>
</section>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}